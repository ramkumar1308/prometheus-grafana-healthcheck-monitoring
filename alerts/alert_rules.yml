groups:
- name: instance-health-rules
  rules:
  - alert: HighCPUUsage
    expr: process_cpu_usage > 0.85
    for: 2m
    labels:
      severity: critical
    annotations:
      summary: "High CPU usage on instance"
      description: "CPU usage is > 85% for more than 2 minutes."
  - alert: EndpointDown
    expr: probe_success{job="blackbox"} == 0
    for: 2m
    labels:
      severity: critical
    annotations:
      summary: "Endpoint {{ $labels.instance }} is down"
      description: "Blackbox probe failed for {{ $labels.instance }} for more than 2 minutes."

